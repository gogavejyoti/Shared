 var client = new OpenAIClient(
        new Uri("https://<your-resource-name>.openai.azure.com/"),
        new AzureKeyCredential("<your-api-key>")
    );

    var systemPrompt = @"
You are a data analyst AI. 
You will be given a SQL query result in JSON format.
Your task:
1. Summarize key insights from the data in plain English.
2. Output the data as a well-formatted Markdown table.
3. If numbers are large, add commas.
4. Keep it concise and clear.
";

    var userPrompt = $@"
User Query: {userQuery}
SQL Result JSON:
{jsonData}
";

    var response = await client.GetChatCompletionsAsync(
        deploymentOrModelName: "<your-gpt-model-name>", // e.g., gpt-4o, gpt-4
        new ChatCompletionsOptions
        {
            Messages =
            {
                new ChatMessage(ChatRole.System, systemPrompt),
                new ChatMessage(ChatRole.User, userPrompt)
            },
            Temperature = 0.3
        }
    );

    return response.Value.Choices[0].Message.Content;
}
