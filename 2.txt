using System;
using System.Text;
using ZstdSharp;

public static class JsonZstdHelper
{
    public static byte[] Compress(string json, int compressionLevel = 3)
    {
        var bytes = Encoding.UTF8.GetBytes(json);
        using var compressor = new Compressor(compressionLevel);
        return compressor.Wrap(bytes);
    }

    public static string Decompress(byte[] compressed)
    {
        using var decompressor = new Decompressor();
        var bytes = decompressor.Unwrap(compressed);
        return Encoding.UTF8.GetString(bytes);
    }
}
