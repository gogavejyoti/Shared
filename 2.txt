<div class="d-flex justify-content-end mb-3">
    <div class="btn-group view-toggle">
        <button class="btn btn-outline-secondary active" id="tileViewBtn">
            <i class="fas fa-th-large"></i> Tile
        </button>
        <button class="btn btn-outline-secondary" id="listViewBtn">
            <i class="fas fa-list"></i> List
        </button>
    </div>
</div>


/* TILE VIEW (default) */
#plansContainer.tile-view {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 16px;
}

/* LIST VIEW */
#plansContainer.list-view {
    display: block;
}

#plansContainer.list-view .plan-card {
    display: flex;
    align-items: center;
    padding: 12px;
    margin-bottom: 10px;
}

/* Optional visual alignment */
#plansContainer.list-view .plan-card .card-body {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

/* Preserve hide styles */
.hide-card {
    opacity: 0.5;
}


$(function () {
    const container = $('#plansContainer');

    function setView(view) {
        if (view === 'list') {
            container.removeClass('tile-view').addClass('list-view');
            $('#listViewBtn').addClass('active');
            $('#tileViewBtn').removeClass('active');
        } else {
            container.removeClass('list-view').addClass('tile-view');
            $('#tileViewBtn').addClass('active');
            $('#listViewBtn').removeClass('active');
        }
        localStorage.setItem('planViewMode', view);
    }

    $('#tileViewBtn').on('click', function () {
        setView('tile');
    });

    $('#listViewBtn').on('click', function () {
        setView('list');
    });

    // Restore preference
    const savedView = localStorage.getItem('planViewMode') || 'tile';
    setView(savedView);
});
